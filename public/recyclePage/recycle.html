<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>분리수거</title>
  <link rel="stylesheet" href="recycle.css">
  <script src="recycle.js"></script>
  <style>
    .recycleContent > div {
      display: none;
    }
    .recycleContent > div.active {
      display: block;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo"><a href="../index.html">로고</a></div> <!-- 로고 -->
    <nav>
        <ul> <!-- 메뉴 4개 -->
            <li><a href="#section1">재활용 통계</a></li>
            <li><a href="recycle.html">분리수거 정보</a></li>
            <li><a href="../map.html" target="_blank">오프라인 제로웨이스트샵</a></li>
            <li><a href="#section4">자주 묻는 질문</a></li>
        </ul>
    </nav>
    <!-- 검색창 추가 -->
    <div class="search-bar">
        <input type="text" placeholder="검색어를 입력하세요">
        <button><img src="../img/search.png" alt="Search"></button>
    </div>
  </header>
  <div class="recycleTab">
    <ul class="tab1">
        <li>
            <button id="button1" onclick="showContent(1)">종이</button>
            <button id="button2" onclick="showContent(2)">플라스틱</button>
            <button id="button3" onclick="showContent(3)">캔/고철</button>
            <button id="button4" onclick="showContent(4)">유리</button>
        </li>
    </ul>
    <ul class="tab2">
        <li>
            <button id="button5" onclick="showContent(5)">비닐</button>
            <button id="button6" onclick="showContent(6)">음식물</button>
            <button id="button7" onclick="showContent(7)">의약품</button>
            <button id="button8" onclick="showContent(8)">기타</button>
        </li>
    </ul>
  </div>

  <div class="recycleCnts">
    <div class="recycleSubTab">
      <ul id="subTabContainer">
        <li class="subTab1">
          <button class="active">재활용 O</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab2">
          <button class="active">1</button>
          <button>2</button>
          <button>3</button>
          <button>4</button>
          <button>5</button>
          <button>6</button>
          <button>7</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab3">
          <button class="active">캔</button>
          <button>고철</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab4">
          <button class="active">재활용 O</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab5">
          <button class="active">재활용 O</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab6">
          <button class="active">재활용 O</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab7">
          <button class="active">재활용 O</button>
          <button>재활용 X</button>
        </li>
        <li class="subTab8">
          <button class="active">재활용 O</button>
          <button>재활용 X</button>
        </li>
      </ul>
    </div>
    <div class="recycleContent">
      <div id="content1" class="content1"> <!--종이-->
        <ul>
          <li>
            <p>재활용 된다...</p>
            <img src="" alt="재활용되는 예시">
          </li>
          <li>
            <p>재활용 안된다...</p>
            <img src="" alt="재활용 안되는 예시">
          </li>
        </ul>
      </div>
      <div id="content2" class="content2"> <!--플라스틱-->
        <ul>
          <li>1</li>
          <li>2</li>
          <li>3</li>
          <li>4</li>
          <li>5</li>
          <li>6</li>
          <li>7</li>
          <li>재활용 x</li>
        </ul>
      </div>
      <div id="content3" class="content3"> <!--캔/고철-->
        <ul>
          <li>캔</li>
          <li>고철</li>
          <li>재활용 x</li>
        </ul>
      </div>
      <div id="content4" class="content4"> <!--유리-->
        <ul>
          <li>재활용 O</li>
          <li>재활용 x</li>
        </ul>
      </div>
      <div id="content5" class="content5"> <!--비닐-->
        <ul>
          <li>재활용 O</li>
          <li>재활용 x</li>
        </ul>
      </div>
      <div id="content6" class="content6"> <!--음식물-->
        <ul>
          <li>재활용 O</li>
          <li>재활용 x</li>
        </ul>
      </div>
      <div id="content7" class="content7"> <!--의약품-->
        <ul>
          <li>재활용 O</li>
          <li>재활용 x</li>
        </ul>
      </div>
      <div id="content8" class="content8"> <!--기타-->
        <ul>
          <li>재활용 O</li>
          <li>재활용 x</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    // 페이지가 로드될 때 실행되는 함수
    window.onload = function() {
        // URL에서 category 값을 가져옴
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get('category');
        if (category) {
            showContent(category);
        }
    };

    // 카테고리별 콘텐츠를 표시하는 함수
    function showContent(category) {
        // 모든 콘텐츠를 숨김
        const contents = document.querySelectorAll('.recycleContent > div');
        contents.forEach(content => content.classList.remove('active'));
        
        // 선택한 카테고리의 콘텐츠를 표시
        const selectedContent = document.getElementById('content' + category);
        if (selectedContent) {
            selectedContent.classList.add('active');
        }
        
        // 모든 버튼에서 active 클래스 제거
        const buttons = document.querySelectorAll('.recycleTab button');
        buttons.forEach(button => button.classList.remove('active'));
        
        // 선택한 버튼에 active 클래스 추가
        const activeButton = document.getElementById('button' + category);
        if (activeButton) {
            activeButton.classList.add('active');
        }
        
        // 모든 subTab을 숨김
        const subTabs = document.querySelectorAll('.recycleSubTab ul li');
        subTabs.forEach(subTab => subTab.style.display = 'none');
        
        // 선택한 subTab을 표시
        const selectedSubTab = document.querySelector('.subTab' + category);
        if (selectedSubTab) {
            selectedSubTab.style.display = 'block';
        }
    }
  </script>
</body>
</html>
